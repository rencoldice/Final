<!DOCTYPE html>
<html>
<head>
    <title>Be Your Own Island</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="4SidesStyle.css">
    <style>
        html, body {
            height: 100%;
            overflow: hidden;
            background-color: black;
        }
        #blocker {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        #title{
            font-family: Copperplate;
            position: fixed;
            font-size:2em;
            top: 50%;
            left: 55%;
            color: red;
            z-index: 1;
        }
        #words{
            font-family: Copperplate;
            font-size:.5em;
            position: fixed;
            top: 55%;
            left: 55%;
            color: red;
            z-index: 3;
        }

    </style>
</head>

<body>
    <script src="js/three.min.js"></script>
    <script src="js/TrackballControls.js"></script>
    <script src="js/CSS3DRenderer.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script src="js/jquery-3.3.1.js"></script>

    <div class="dropdown">
        <button onclick="myFunction()" class="dropbtn">Be Your Own Island</button>
        <div id="myDropdown" class="dropdown-content">
            <div id="title">Project 1</div>
            <a href="#home" >Home</a>
            <a href="#about" >About Me</a>
            <a href="#project1">Project1</a>
            <a href="#project2">Project2</a>
            <a href="#project3">Project3</a>
            <a href="#exercise">Exercise</a>
            <a href="#reading">Reading</a>
    </div>
    </div>

    <div id="words">
        <ol>
            <br>
            <p class="original">The Original Page</p>
            <p class="process">Process</p>
            <p class="github">Github Page</p>
        </ol>
    </div>





    <div id="container"></div>
    <div id="blocker"></div>

    <script>
        var camera, scene, renderer;
        var controls;
        var Element = function ( id, x, y, z, ry ) {
            var div = document.createElement( 'div' );
                div.style.width = '480px';
                div.style.height = '480px';
                div.style.backgroundColor = '#000';
            var iframe = document.createElement( 'iframe' );
                iframe.style.width = '480px';
                iframe.style.height = '480px';
                iframe.style.border = '0px';
            //   iframe.id = 'play';
            // 法一$(function(){
            //     $("#click").click(function(){
            //         $("#play").src=['https://rencoldice.github.io/Lyrics/'];
            //     });
            //     $("#b2").click(function(){
            //         $("#imgSrc").src="img2";
            //     });
            //     $("#b3").click(function(){
            //         $("#imgSrc").src="img3";
            //     });
            //     $("#b4").click(function(){
            //         $("#imgSrc").src="img4";
            //     });
            // });法二
                // var x;
                // if ( id[title]="Project 1"){
                //     x="https://rencoldice.github.io/Lyrics/";
            // iframe.src = ['x'].join( '' );
                // }
            // iframe.src = [ 'https://www.youtube.com/embed/', id, '?rel=0' ].join( '' );
            //if函数--选择不同的网页
                iframe.src = ['https://rencoldice.github.io/Lyrics/'].join( '' );

            div.appendChild( iframe );
            var object = new THREE.CSS3DObject( div );
            object.position.set( x, y, z );
            object.rotation.y = ry;
            return object;
            };


        init();
        animate();
        function init() {
            var container = document.getElementById( 'container' );

            camera = new THREE.PerspectiveCamera( 100, window.innerWidth / window.innerHeight, 1, 5000 );
            camera.position.set( 500, 350, 750 );
            scene = new THREE.Scene();
            renderer = new THREE.CSS3DRenderer();
            renderer.setSize( window.innerWidth, window.innerHeight );
            container.appendChild( renderer.domElement );
            var group = new THREE.Group();
            group.add( new Element( 'SJOz3qjfQXU', 0, 0, 240, 0 ) );
            group.add( new Element( 'Y2-xZ-1HE-Q', 240, 0, 0, Math.PI / 2 ) );
            group.add( new Element( 'IrydklNpcFI', 0, 0, - 240, Math.PI ) );
            group.add( new Element( '9ubytEsCaS0', - 240, 0, 0, - Math.PI / 2 ) );
            scene.add( group );
            controls = new THREE.TrackballControls( camera );
            controls.rotateSpeed = 4;
            window.addEventListener( 'resize', onWindowResize, false );
            // Block iframe events when dragging camera
            var blocker = document.getElementById( 'blocker' );
            blocker.style.display = 'none';
            document.addEventListener( 'mousedown', function () {
                blocker.style.display = '';
            } );
            document.addEventListener( 'mouseup', function () {
                blocker.style.display = 'none';
            } );
        }
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize( window.innerWidth, window.innerHeight );
        }
        function animate() {
            requestAnimationFrame( animate );
            controls.update();
            renderer.render( scene, camera );
        }

        /* 点击按钮，下拉菜单在 显示/隐藏 之间切换 */
        function myFunction() {
            document.getElementById("myDropdown").classList.toggle("show");
        }

        // 点击下拉菜单意外区域隐藏
        window.onclick = function(event) {
            if (!event.target.matches('.dropbtn')) {

                var dropdowns = document.getElementsByClassName("dropdown-content");
                var i;
                for (i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }

    </script>
</body>
</html>